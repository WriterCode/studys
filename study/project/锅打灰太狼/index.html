<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            font-family: "微软雅黑";
        }
        
        #outer {
            background: url(img/game_bg.jpg) 0 0 no-repeat;
            height: 480px;
            width: 320px;
            position: relative;
        }
        
        #scoring {
            position: absolute;
            font-weight: bold;
            font-size: 16px;
            color: white;
            left: 65px;
            top: 13px;
        }
        
        #countDown {
            position: absolute;
            background: url(img/progress.png) 0 0 no-repeat;
            width: 180px;
            height: 16px;
            left: 63px;
            top: 66px;
        }
        
        #wolfs img {
            position: absolute;
        }
        
        #menu {
            position: absolute;
            width: 320px;
            text-align: center;
            left: 0;
            top: 200px;
        }
        
        #start,
        #handle,
        #gameOver {
            line-height: 50px;
            font-size: 30px;
            font-weight: bold;
            color: #F60;
            text-shadow: 0 0 5px #FFFF00;
            display: block;
            text-decoration: none;
        }
        
        #gameOver {
            position: absolute;
            width: 320px;
            text-align: center;
            top: 200px;
            left: 0;
            display: none;
        }
    </style>

</head>

<body>
    <div id="outer">
        <!--这是分数-->
        <div id="scoring">0</div>
        <!--倒计时-->
        <div id="countDown"></div>
        <!--灰太狼们-->
        <div id="wolfs">
            <!-- <img src="img/h5.png"/>  -->
        </div>
        <div id="menu">
            <a href="#" id="start">开始</a>
            <a href="#" id="handle">游戏操作说明</a>
        </div>
        <div id="gameOver">game over!</div>
    </div>

    <script type="text/javascript">
        // 开始按钮
        var stratBtn = document.querySelector("#start");
        // 菜单
        var menuDiv = document.querySelector("#menu");
        // 获取倒计时div
        var countDownDiv = document.querySelector("#countDown");
        // 获取存放wolf的div
        var wolfsDiv = document.querySelector("#wolfs");
        // 获取游戏结束页面
        var gameOver = document.querySelector("#gameOver");
        // 存放分数的标签
        var score = document.querySelector("#scoring");

        // 用一个对象，存放灰太狼出现的位置
        var wolfStartArr = [{
            left: "98px",
            top: "115px"
        }, {
            left: "17px",
            top: "160px"
        }, {
            left: "15px",
            top: "220px"
        }, {
            left: "30px",
            top: "293px"
        }, {
            left: "122px",
            top: "273px"
        }, {
            left: "207px",
            top: "295px"
        }, {
            left: "200px",
            top: "211px"
        }, {
            left: "187px",
            top: "141px"
        }, {
            left: "100px",
            top: "185px"
        }];

        // 点击开始按钮
        stratBtn.onclick = function() {
            menuDiv.style.display = 'none';

            // 获取倒计时的宽度
            var w = countDownDiv.offsetWidth;

            // 倒计时的定时器
            var countDownTimer = setInterval(function() {
                w--;
                if (w <= 0) {
                    // 清除倒计时定时器
                    clearInterval(countDownTimer);
                    // 游戏结束弹框
                    gameOver.style.display = 'block';
                }
                countDownDiv.style.width = w + 'px';
            }, 100);

            // 创建狼的定时器
            setInterval(function() {
                // 随机数
                var rand = randFn(0, wolfStartArr.length - 1);
                // 创建狼
                var wolf = document.createElement('img');
                var num = randFn(0, 100);

                // 随机狼的类型
                wolf.type = (num >= 90 && num <= 100) ? 'x' : 'h';

                // 创建图片(灰太狼,小灰灰)
                wolf.src = 'img/' + wolf.type + '0.png';
                // 随机狼出现的位置
                wolf.style.left = wolfStartArr[rand].left;
                wolf.style.top = wolfStartArr[rand].top;

                // 图片插入到容器中
                wolfsDiv.appendChild(wolf);
            }, 800);
        }

        // 随机函数
        function randFn(min, max) {
            return parseInt(Math.random() * (max - min + 1) + min);
        }
    </script>






</body>

</html>