function ImgScroll(t,i,e,l){this.box=document.getElementById(t),this.list=i,this.space=e||3e3,this.speed=l||300,this.autoScroll()}ImgScroll.prototype={constructor:ImgScroll,getStyle:function(t,i){return t.currentStyle?t.currentStyle[i]:window.getComputedStyle(t,null)[i]},animate:function(t,i,e,l){var o={};for(var n in i)"opacity"==n?(void 0==this.getStyle(t,n)&&(t.style.opacity=1,t.style.filter="alpha(opacity=100)"),o[n]=100*parseFloat(this.getStyle(t,n))):o[n]=parseInt(this.getStyle(t,n));t.callback=l;var a=e/100,s=0;clearInterval(t.timer),t.timer=setInterval(function(){s+=9;for(var e in i)if("opacity"==e){var l=(100*i[e]-o[e])*Math.sin(s/10*(Math.PI/180));t.style.opacity=(o[e]+l)/100,t.style.filter="alpha(opacity="+(o[e]+l)+")"}else{var l=(i[e]-o[e])*Math.sin(s/10*(Math.PI/180));t.style[e]=o[e]+l+"px"}900==s&&(clearInterval(t.timer),t.callback&&t.callback())},a)},createDom:function(){for(var t=this.box,i=this.list,e='<ul id="scrollBall">',l='<p id="points">',o=0;o<i.length;o++)e+='<li><a href="'+i[o].href+'"><img src="'+i[o].url+'"></a></li>',l+=0==o?'<span class="high_light"></span>':"<span></span>";e+='<li><a href="'+i[0].href+'"><img src="'+i[0].url+'"></a></li></ul>',l+="</p>",t.innerHTML+=e+l,t.innerHTML+='<a id="prev" class="hide" href="javascript:;">&lt;</a><a id="next" class="hide" href="javascript:;">&gt;</a>'},setStyle:function(){var t=this.box,i=this.list,e=t.clientWidth,l=t.clientHeight;t.innerHTML="<style>            #scrollBall{list-style:none;width:"+e*(i.length+1)+"px;overflow:hidden;position:absolute;left:0;top:0;}            #scrollBall li{float:left;width:"+e+"px;}            #scrollBall li img{display:block;border:0;width:"+e+"px;height:"+l+"px;}            #scrollBall li a{display:block;}            #points{position: absolute;z-index: 5;overflow: hidden;width: 120px;padding: 5px;background: rgba(255,255,255,0.4);bottom: 30px;left: "+(e-120)/2+'px;border-radius:10px;}            #points span{float: left;width: 14px;height: 14px;margin: 0 3px;background: #ffffff;border-radius: 50%;}            #points .high_light{background: #ed7878;}            #prev,#next{text-decoration:none;width: 30px;height: 50px;line-height: 50px;text-align: center;font-size: 20px;font-weight: bold;color:#ffffff;font-family: "黑体";background:rgba(0,0,0,0.5);position: absolute;top: '+(l-50)/2+"px;}            #prev{left: 0;}#next{right:0;}            .hide{display: none;}.show{display: block;}        </style>",this.createDom()},autoScroll:function(){this.setStyle(),this.pic_box=this.box,this.scrollBall=document.getElementById("scrollBall"),this.points=document.getElementById("points").getElementsByTagName("span"),this.prev=document.getElementById("prev"),this.next=document.getElementById("next");var t=this.list.length,i=this,e=i.pic_box.clientWidth;i.autoMove=function(){i.pic_box.timer?clearTimeout(i.pic_box.timer):null,i.pic_box.timer=setTimeout(i.move,i.space)},i.pic_box.index=0,i.pic_box.direction=1,i.move=function(){i.pic_box.index+=i.pic_box.direction,i.pic_box.index==t+1?(i.scrollBall.style.left=0,i.pic_box.index=1):-1==i.pic_box.index&&(i.scrollBall.style.left=-t*e+"px",i.pic_box.index=t-1),i.animate(i.scrollBall,{left:i.pic_box.index*-e},i.speed,function(){i.autoMove()});for(var l=0;l<i.points.length;l++)i.points[l].className="";i.points[i.pic_box.index%t].className="high_light"},i.autoMove(),i.addEvent()},addEvent:function(){function e(){for(var e=0;e<t.points.length;e++)t.points[e].index=e,t.points[e].onclick=function(){if(0!=this.index||t.pic_box.index!=t.list.length){t.pic_box.index=this.index,t.animate(t.scrollBall,{left:t.pic_box.index*-i},t.speed,function(){t.autoMove()});for(var e=0;e<t.points.length;e++)t.points[e].className="";this.className="high_light"}}}var t=this,i=t.pic_box.clientWidth;e(),t.pic_box.onmouseover=function(){t.prev.className=t.next.className="show",this.onmouseout=function(){t.prev.className=t.next.className="hide"}},t.prev.onclick=function(){clearTimeout(t.pic_box.timer),t.pic_box.direction=-1,t.move()},t.next.onclick=function(){clearTimeout(t.pic_box.timer),t.pic_box.direction=1,t.move()}}};